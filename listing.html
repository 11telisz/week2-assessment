<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Listings</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Taylor Eliszewski">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="default.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>


<!-- Navigation bar information -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">

    <a class="navbar-brand" href="index.html">
        <img src="" alt="logo" style="width:40px;">
    </a>

    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" href="home_detail.html">Home Detail test page</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="listing.html">Listing Search</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="testimonials.html">Testimonials</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="about_us.html">About Us</a>
        </li>
    </ul>
</nav>
<!-- Company banner -->
<div class="jumbotron">
    <p>Some placeholder text</p>
</div>
<!-- Nav bar for searching -->
<div class="navbar bg-light">
    <form class="form-inline" >
        <input class="form-control mr-sm-2" type="number" placeholder="Price:Lower" id="pLower" value="">
        <input class="form-control mr-sm-2" type="number" placeholder="Price:Upper" id="pUpper" value="">
        <button class="btn btn-success" type="button">Filter</button>
    </form>
</div>
<!-- Comment template -->

<!-- First div holder for results -->
<div class="container border">
    <!-- First row -->
    <div class="row bg-primary">
        <!-- First column -->
        <div class="col-4 bg-white ">
            <!-- First Card Holder -->
            <div class="container bg-danger p-3" id="Holder1">
                <!-- First Card -->
                <div class="container bg-dark p-2" id="card1">
                    <!-- First Card Picture -->
                    <div class="container bg-info">
                        <p id="PH1Image">Place holder text for image</p>
                    </div>
                    <!-- First Card Summary -->
                    <div class="container bg-primary">
                        <p id="PH1Text">Placeholder Summary text</p>
                    </div>
                </div>
            </div>


        </div>
        <!-- Second Column -->
        <div class="col-4 bg-white">
            <!-- Second Card Holder -->
            <div class="container bg-danger p-3">
                <!-- First Card -->
                <div class="container bg-dark p-2">
                    <!-- First Card Picture -->
                    <div class="container bg-info">
                        <p>Place holder text for image</p>
                    </div>
                    <!-- First Card Summary -->
                    <div class="container bg-primary">
                        <p>Placeholder Summary text</p>
                    </div>
                </div>
            </div>

        </div>
        <!-- Third Column -->
        <div class="col-4 bg-white">
            <!-- Third Card Holder -->
            <div class="container bg-danger p-3">
                <!-- Third Card -->
                <div class="container bg-dark p-2">
                    <!-- Third Card Picture -->
                    <div class="container bg-info">
                        <p>Place holder text for image</p>
                    </div>
                    <!-- Third Card Summary -->
                    <div class="container bg-primary">
                        <p>Placeholder Summary text</p>
                    </div>
                </div>
            </div>

        </div>

    </div>
    <!-- Second Row -->
    <div class="row">
        <!-- First Column -->
        <div class="col-4 bg-white">
            <!-- First Card Holder -->
            <div class="container bg-danger p-3">
                <!-- First Card -->
                <div class="container bg-dark p-2">
                    <!-- First Card Picture -->
                    <div class="container bg-info">
                        <p>Place holder text for image</p>
                    </div>
                    <!-- First Card Summary -->
                    <div class="container bg-primary">
                        <p>Placeholder Summary text</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Second Column -->
        <div class="col-4 bg-white">
            <!-- Second Card Holder -->
            <div class="container bg-danger p-3">
                <!-- Second Card -->
                <div class="container bg-dark p-2">
                    <!-- Second Card Picture -->
                    <div class="container bg-info">
                        <p>Place holder text for image</p>
                    </div>
                    <!-- Second Card Summary -->
                    <div class="container bg-primary">
                        <p>Placeholder Summary text</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Third Column -->
        <div class="col-4 bg-white">
            <!-- Third Card Holder -->
            <div class="container bg-danger p-3">
                <!-- Third Card -->
                <div class="container bg-dark p-2">
                    <!-- Third Card Picture -->
                    <div class="container bg-info">
                        <p>Place holder text for image</p>
                    </div>
                    <!-- Third Card Summary -->
                    <div class="container bg-primary">
                        <p>Placeholder Summary text</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Search results-->

    <div class="container">
        <ul class="pagination ">
            <li class="page-item"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item"><a class="page-link" href="#">1</a></li>
            <li class="page-item active"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
    </div>

</div>
<script>
    <!-- Scripts -->
    function update_data()
    { //// const record_count = parseInt(document.getElementById("num_rec").value);
        const url = "http://3.21.225.172:8080/api/";

        $.getJSON( url + "realestate/all")
            .done(function( data ) {
                console.log(data);
                // $("#fname").html(item.fname);
                $.each( data, function( i, item ) {
                    //Define the card variable
                    console.log(item);
                    // let PH1IMG = item.fname;
                    // $("#PH1Image").html(PH1IMG);
// use a for loop to create the cards using the i as the number in array
//                      //do stuff in these brackets as the JSON stuff is loaded in the parent
//                      //of this one. We are able to manipulate specific values from here and do
//                      //my placeholder update stuffs
                     var card =
                         "<div class='bg-dark p-3'>" +
                         "<div class='bg-info'>" +
                         "<img width='100%' src='"+ url + item.imageurl + " ' " +
                         "</div>" +
                         "<div class='bg-primary'>" + "<p>Price: $" + item.price +"</p>"+
                         "<p>" + item.beds + " Bed    " +item.baths + " Bath  " + item.sqft+ " Sq.ft</p>" +
                         "<p>" + item.street + "<br>"+ item.city + ", " + item.state + " " + item.zip +"</p>"
                          "</div>" +


                         "</div>"

                         //
                         // //Previous testing code
                         // "<td>" + item.fname + "</td>" +
                         // "<td>" + item.lname + "</td>" +
                         // "<td>" + item.yrblt + "</td>" +
                         // "<td>" + item.isnew + "</td>" +
                         // "<td>" + item.sqft + "</td>" +
                         // "<td>" + item.baths + "</td>" +
                         // "<td>" + item.beds + "</td>" +
                         // "<td>" + item.street + "</td>" +
                         // "<td>" + item.city + "</td>" +
                         // "<td>" + item.state + "</td>" +
                         // "<td>" + item.zip + "</td>" +
                         // "<td>" + item.state + "</td>" +
                         // "<td>" + item.phone + "</td>" +
                         // "<td>" + item.price + "</td>" +
                         // // "<td><img width=100 height=100 src='" +
                         // // url +
                         // // item.imageurl + "'/></td>";

                    $("#Holder1").html(card);


                }); <!--End of the .each -->





            });


    }
    update_data();

</script>
</body>
</html>